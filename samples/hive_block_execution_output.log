
--------------------------------Executing XML---------------------------------------------

<?xml version="1.0" encoding="UTF-8"?><blocks id="hive-blocks" base-path="C:/Users/manojkumar.vohra/Desktop/hblocks/">
  <block id="first-block">
    <variable name="b1Var1" type="int"/>
    <variable name="b1Var2" type="string"/>
    <variable name="addVal" type="int"/>
    <export id="export_both_vars" query-file="export_vars.hql"/>
    <if id="if_gt_2" condition=":b1Var1 &gt; 2 AND :b1Var2 == 'abc'">
      <variable name="b1Var2" type="string" value="overriden-b1Var2"/>
      <query id="pre_sub_if" query-file="pre_if.hql"/>
      <if id="sub_if" condition=":b1Var2 == 'overriden-b1Var2'">
        <query id="insert_dummy" query-file="insert_into_dummy.hql"/>
      </if>
      <query id="post_if" query-file="post_if.hql"/>
      <for id="for each dummy value" query-file="iterate_dummy.hql">
        <variable name="dummyfield" type="string"/>
        <print text="Got Dummy Value=:dummyfield"/>
      </for>
    </if>
    <export id="add vars and prepare new" query-file="add_to_vars.hql"/>
    <query id="last insert" query-file="insert_into_dummy_plus.hql"/>
  </block>
</blocks>


------------------------------------------------------------------------------------------

Starting execution of blocks:hive-blocks

--------------------------------------------------------
Executing Block[first-block]

--------------------------------------------------------


--------------------------------------------------------
Executing Export[export_both_vars] IN BLOCK[first-block]

--------------------------------------------------------


--------------------------------------------------------------------------------

EXPORT ORIGINAL QUERY=select 3 b1Var1, 'abc' b1Var2 from default.dual limit 1

EXPORT TRANSLATED QUERY=select 3 b1Var1, 'abc' b1Var2 from default.dual limit 1


--------------------------------------------------------------------------------

log4j:WARN No appenders could be found for logger (org.apache.hive.jdbc.Utils).
log4j:WARN Please initialize the log4j system properly.
log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.

--------------------------------------------------------
Executing IF[if_gt_2] IN BLOCK[first-block]

--------------------------------------------------------


--------------------------------------------------------------------------------

IF ORIGINAL QUERY=SELECT :b1Var1 > 2 AND :b1Var2 == 'abc' FROM default.dual LIMIT 1

IF TRANSLATED QUERY=SELECT 3 > 2 AND 'abc' == 'abc' FROM default.dual LIMIT 1

--------------------------------------------------------------------------------


....................................

IF:BLOCK[first-block]IF[if_gt_2] RESULT=true

....................................


--------------------------------------------------------
Executing QUERY[pre_sub_if] IN BLOCK[first-block]IF[if_gt_2]

--------------------------------------------------------


--------------------------------------------------------------------------------

ORIGINAL QUERY=select 'pre' from default.dual limit 1


TRANSLATED QUERY=select 'pre' from default.dual limit 1


--------------------------------------------------------------------------------

0 rows updated

--------------------------------------------------------
Executing IF[sub_if] IN BLOCK[first-block]IF[if_gt_2]

--------------------------------------------------------


--------------------------------------------------------------------------------

IF ORIGINAL QUERY=SELECT :b1Var2 == 'overriden-b1Var2' FROM default.dual LIMIT 1

IF TRANSLATED QUERY=SELECT 'overriden-b1Var2' == 'overriden-b1Var2' FROM default.dual LIMIT 1

--------------------------------------------------------------------------------


....................................

IF:BLOCK[first-block]IF[if_gt_2]IF[sub_if] RESULT=true

....................................


--------------------------------------------------------
Executing QUERY[insert_dummy] IN BLOCK[first-block]IF[if_gt_2]IF[sub_if]

--------------------------------------------------------


--------------------------------------------------------------------------------

ORIGINAL QUERY=insert into default.dummy values (:b1Var1)


TRANSLATED QUERY=insert into default.dummy values (3)


--------------------------------------------------------------------------------

0 rows updated

--------------------------------------------------------
Executing QUERY[post_if] IN BLOCK[first-block]IF[if_gt_2]

--------------------------------------------------------


--------------------------------------------------------------------------------

ORIGINAL QUERY=select 'post' from default.dual limit 1


TRANSLATED QUERY=select 'post' from default.dual limit 1


--------------------------------------------------------------------------------

0 rows updated

--------------------------------------------------------
Executing FOR[for each dummy value] IN BLOCK[first-block]IF[if_gt_2]

--------------------------------------------------------


--------------------------------------------------------------------------------

ORIGINAL QUERY=select dummyfield from default.dummy limit :b1Var1


TRANSLATED QUERY=select dummyfield from default.dummy limit 3


--------------------------------------------------------------------------------

Got Dummy Value='3'
Got Dummy Value='4'
Got Dummy Value='3'

--------------------------------------------------------
Executing Export[add vars and prepare new] IN BLOCK[first-block]

--------------------------------------------------------


--------------------------------------------------------------------------------

EXPORT ORIGINAL QUERY=select :b1Var1+1 addVal from default.dual limit 1

EXPORT TRANSLATED QUERY=select 3+1 addVal from default.dual limit 1


--------------------------------------------------------------------------------


--------------------------------------------------------
Executing QUERY[last insert] IN BLOCK[first-block]

--------------------------------------------------------


--------------------------------------------------------------------------------

ORIGINAL QUERY=insert into default.dummy values (:addVal)


TRANSLATED QUERY=insert into default.dummy values (4)


--------------------------------------------------------------------------------

0 rows updated
